<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="../css/reset.css" />
        <link rel="stylesheet" href="../css/style.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />
    </head>

    <body>
        <div class="contenedor-principal">
            <header>
                <nav>
                    <i>
                        <img src="../assets/images/logo.png" alt="" width="80px" height="35px" />
                    </i>
                    <i class="bi bi-box-arrow-right bi-xl"></i>
                </nav>
            </header>
            <main class="component">
                <h1>Suministros</h1>
                <div class="botonesAC">
                    <div class="input-box componente-relativo">
                        <input
                            id="busqueda"
                            type="text"
                            class="input input-busqueda"
                            placeholder="Buscar suministro"
                            required
                            pattern="[a-zA-Z0-9áéíóúÁÉÍÓÚ, ñÑ]+"
                        />
                        <button type="submit" class="boton-busqueda"><i class="bi bi-search"></i></button>
                        <span class="span-for-input-error"></span>
                    </div>
                    <button class="btn-primary" onclick="abrirModalRegistrar('myModal1')">Nuevo suministro</button>
                </div>
                <div id="myModal1" class="modal">
                    <div class="modal-content">
                        <div class="botonesAC">
                            <h1>Agrega una nuevo suministro</h1>
                            <span class="close">&times;</span>
                        </div>
                        <form action="" class="component">
                            <div style="margin-left: 50px">
                                <input id="codigo" type="text" placeholder="Codigo del suministro" required pattern="[a-zA-Z0-9]+" />
                                <button type="button" class="btn-secundary">
                                    <i class="bi bi-file-text"></i>
                                </button>
                            </div>

                            <div class="input-box">
                                <input id="cuentaContable" type="text" class="input" placeholder="Cuenta contable" required pattern="[0-9.]+" />
                                <span class="span-for-input-error"></span>
                            </div>
                            <div class="input-box">
                                <input id="grupo" type="text" class="input" placeholder="Grupo" required />
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="nombre" type="text" class="input" placeholder="Nombre" required pattern="[a-zA-Z0-9]+" />
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="unidadDeMedida" type="text" class="input" placeholder="Unidad de medida" required />
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="subgrupo" type="text" class="input" placeholder="Sub grupo" required />
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="marca" type="text" class="input" placeholder="Marca" required />
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="valorPorUnidad" type="text" class="input" placeholder="Valor por unidad" required pattern="[0-9,]+" />
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="proveedor" type="text" class="input" placeholder="Proveedor" required />
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="cantidad" type="text" class="input" placeholder="Cantidad" min="0" required pattern="^[0-9]+$" />
                                <span class="span-for-input-error"></span>
                            </div>

                            <button class="btn-primary">Registrar ingreso</button>
                            <button class="btn-primary">Cancelar</button>
                        </form>
                    </div>
                </div>

                <div id="myModal2" class="modal">
                    <div class="modal-content">
                        <div class="botonesAC">
                            <h1>Actualizar suministro</h1>
                            <span class="close">&times;</span>
                        </div>
                        <form action="" class="component">
                            <div style="margin-left: 50px">
                                <input id="codigo" type="text" placeholder="Codigo del suministro" required pattern="[a-zA-Z0-9]+" value="INTA005"/>
                                <button type="button" class="btn-secundary">
                                    <i class="bi bi-file-text"></i>
                                </button>
                            </div>

                            <div class="input-box">
                                <input id="cuentaContable" type="text" class="input" placeholder="Cuenta contable" required pattern="[0-9.]+" value="Inventarios"/>
                                <span class="span-for-input-error"></span>
                            </div>
                            <div class="input-box">
                                <input id="grupo" type="text" class="input" placeholder="Grupo" required value="Grupo1"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="nombre" type="text" class="input" placeholder="Nombre" required pattern="[a-zA-Z0-9]+" value="Nombre1"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="unidadDeMedida" type="text" class="input" placeholder="Unidad de medida" required value="UnidadDeMedida1"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="subgrupo" type="text" class="input" placeholder="Sub grupo" required value="Subgrupo1"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="marca" type="text" class="input" placeholder="Marca" required value="Marca1"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="valorPorUnidad" type="text" class="input" placeholder="Valor por unidad" required pattern="[0-9,]+" value="1"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="proveedor" type="text" class="input" placeholder="Proveedor" required value="Proveedor1"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <div class="input-box">
                                <input id="cantidad" type="text" class="input" placeholder="Cantidad" min="0" required pattern="^[0-9]+$" value="2"/>
                                <span class="span-for-input-error"></span>
                            </div>

                            <button id="btn-confirmacion-actualizacion" class="btn-primary">Actualizar suministro</button>
                        </form>
                    </div>
                </div>

                <script src="https://cdnjs.cloudflare.com/ajax/libs/google-libphonenumber/7.3.0/libphonenumber.min.js"></script>
                <script>
                    function abrirModalRegistrar(idModal) {
                        const modal = document.getElementById(idModal);

                        const cerrar = modal.querySelector(".close");

                        modal.style.display = "block";

                        cerrar.addEventListener("click", () => {
                            modal.style.display = "none";
                        });

                        window.addEventListener("click", evento => {
                            if (evento.target == modal) {
                                modal.style.display = "none";
                            }
                        });
                    }

                    function formatPhone(input) {
                        input.value = input.value.replace(/\D/g, "").replace(/(\d{4})(\d{4})/, "$1-$2");
                    }
                    const btnActualizar = document.querySelector("#btn-confirmacion-actualizacion");
                    btnActualizar.addEventListener("click", e => e.preventDefault());
                </script>

                <!-- Sin datos
                <h1><i class="bi bi-exclamation-diamond"></i> No se encontraron resultados para "ejemzcswa"</h1> -->

                <table>
                    <thead>
                        <tr>
                            <th>Código</th>
                            <th>Nombre</th>
                            <th>Marca</th>
                            <th>Cantidad</th>
                            <th>Detalles</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>INTA001</td>
                            <td>Nombre1</td>
                            <td>Marcar1</td>
                            <td>2</td>
                            <td></td>
                            <td>
                                <button class="btn-CRUD btn-editar" onclick="abrirModalRegistrar('myModal2')"><i class="bi bi-pencil"></i></button>

                                <button id="btn-eliminar" class="btn-CRUD btn-eliminar">
                                    <i class="bi bi-trash"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>INTA0002</td>
                            <td>Nombre1</td>
                            <td>Marca2</td>
                            <td>5</td>
                            <td></td>
                            <td>
                                <button class="btn-CRUD btn-editar" onclick="abrirModalRegistrar('myModal2')"><i class="bi bi-pencil"></i></button>
                                <button id="btn-eliminar" class="btn-CRUD btn-eliminar">
                                    <i class="bi bi-trash"></i>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div>
                    <button id="myButton" type="submit" class="btn-secundary"><i class="bi bi-arrow-left"></i></button>
                    <button id="myButton" type="submit" class="btn-secundary"><i class="bi bi-arrow-right"></i></button>
                </div>
            </main>
        </div>
        <script type="module" src="../js/validationIngresoSuministro.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        <script>
            document.getElementById("btn-eliminar").addEventListener("click", function () {
                Swal.fire({
                    title: "¿Estás seguro?",
                    icon: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#0066ff",
                    cancelButtonColor: "#FF0000",
                    iconColor: "#FF0000",
                    confirmButtonText: "Sí, eliminar",
                    cancelButtonText: "Cancelar",
                }).then(result => result.isConfirmed && Swal.fire("Eliminada", "La suministro ha sido eliminada correctamente.", "success"));
            });
        </script>
        <script>
            document.getElementById("btn-confirmacion-actualizacion").addEventListener("click", function () {
                Swal.fire({
                    title: "¿Estás seguro?",
                    icon: "warning",
                    showCancelButton: true,
                    confirmButtonColor: "#0066ff",
                    cancelButtonColor: "#FF0000",
                    iconColor: "#FF0000",
                    confirmButtonText: "Sí, actualizar",
                    cancelButtonText: "Cancelar",
                }).then(result => result.isConfirmed && Swal.fire("Actualizado", "La suministro ha sido actualizada correctamente.", "success"));
            });
        </script>
    </body>
</html>
